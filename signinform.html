<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Sign in</title>
  </head>
  <body>
    <h1>Sign in</h1>
    <form>
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required><br>
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required><br>
      <button type="submit" id="signin-btn">Sign in</button>
    </form>

    <!-- Include Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-auth.js"></script>
    <script>
      // Initialize Firebase app
      const firebaseConfig = {
        apiKey: "AIzaSyD4f2qv32PaDfYdo5m8qdN_pxGSEX6QUhw",
        authDomain: "gamechanger-f5da7.firebaseapp.com",
        databaseURL: "https://gamechanger-f5da7-default-rtdb.firebaseio.com",
        projectId: "gamechanger-f5da7",
        storageBucket: "gamechanger-f5da7.appspot.com",
        messagingSenderId: "358268649157",
        appId: "1:358268649157:web:8439649bc02f3a6cb8faac",
        measurementId: "G-QBH1QYTY8V"
      };

      firebase.initializeApp(firebaseConfig);

      // Get a reference to the auth service
      const auth = firebase.auth();

      // Add sign in event listener
      const signinBtn = document.getElementById('signin-btn');
      signinBtn.addEventListener('click', (e) => {
        e.preventDefault();
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;

        // Sign in with email and password
        auth.signInWithEmailAndPassword(email, password)
          .then((userCredential) => {
            // Check if user email is verified
            if (userCredential.user.emailVerified) {
              // User signed in successfully
              const user = userCredential.user;
              console.log(`User ${user.email} signed in successfully.`);
              window.location.href = "index.html";
            } else {
              // Email not verified, display error message
              console.error('Please verify your email before signing in.');
            }
          })
          .catch((error) => {
            // Handle errors
            const errorCode = error.code;
            const errorMessage = error.message;
            console.error(`Error: ${errorCode} - ${errorMessage}`);
          });
      });
/*
      // Add sign up event listener
      const signupBtn = document.getElementById('signup-btn');
      signupBtn.addEventListener('click', (e) => {
        e.preventDefault();
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        // Create a new user account with email and password
        auth.createUserWithEmailAndPassword(email, password)
          .then((userCredential) => {
            // Send verification email to new user
            userCredential.user.sendEmailVerification();

            // Display success message
            console.log(`Verification email sent to ${email}.`);

            // You can redirect the user to a different page here, or ask them to verify their email and sign in
          })
          .catch((error) => {
            // Handle errors
            const errorCode = error.code;
            const errorMessage = error.message;
            console.error(`Error: ${errorCode} - ${errorMessage}`);
          });
      });

    // Add sign out event listener
    const signoutBtn = document.getElementById('signout-btn');
    signoutBtn.addEventListener('click', (e) => {
        e.preventDefault();
        auth.signOut()
        .then(() => {
        // User signed out successfully
        console.log('User signed out successfully');
        window.location.href = "signinform.html";
        // You can redirect the user to a different page here
        })
        .catch((error) => {
        // Handle errors
        console.error('Error signing out:', error);
        });
    });
    */
</script>
</body>
</html>